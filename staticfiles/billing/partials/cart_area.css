/* =========================================
   CART AREA STYLING
   ========================================= */

/* --- The Table Container --- */
.cart-table {
    width: 100%;
    border-collapse: separate; /* Allows for border-radius */
    border-spacing: 0;
    margin-top: 10px;
    font-family: inherit; /* Inherits page font */
    font-size: 0.95rem;
}

/* --- Table Header --- */
.cart-table thead th {
    background-color: #f8fafc; /* Light Grey Header */
    color: #64748b;            /* Slate Text */
    font-weight: 700;
    font-size: 0.75rem;        /* Small Caps style */
    text-transform: uppercase;
    letter-spacing: 0.5px;
    padding: 12px 16px;
    border-bottom: 2px solid #e2e8f0;
    text-align: left;
}

/* First header rounded corner */
.cart-table thead th:first-child {
    border-top-left-radius: 8px;
}
/* Last header rounded corner */
.cart-table thead th:last-child {
    border-top-right-radius: 8px;
}

/* --- Table Rows & Cells --- */
.cart-table tbody td {
    padding: 14px 16px;
    color: #334155; /* Dark readable text */
    border-bottom: 1px solid #f1f5f9;
    vertical-align: middle;
    transition: background-color 0.1s ease;
}

/* Row Hover Effect */
.cart-table tbody tr:hover td {
    background-color: #f8fafc; /* Very subtle highlight */
}

/* Last Row: Remove bottom border */
.cart-table tbody tr:last-child td {
    border-bottom: none;
}

/* --- Specific Columns --- */
/* Make Item Name Bold */
.cart-table td:first-child {
    font-weight: 600;
    color: #0f2a44; /* Sidebar Blue */
}

/* Make Total Price Green/Bold */
.cart-table td:nth-last-child(2) {
    font-weight: 700;
    color: #059669; /* Emerald Green */
}

/* =========================================
   QUANTITY CONTROLS (+ 1 -)
   ========================================= */
.qty-cell {
    width: 120px; /* Fixed width prevents jumping */
}

.qty-group {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    background: #fff;
    border: 1px solid #e2e8f0;
    border-radius: 6px;
    padding: 4px;
}

/* The + and - Buttons */
.qty-btn {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    
    background: #f1f5f9;
    border: none;
    border-radius: 4px;
    color: #475569;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}

.qty-btn:hover {
    background: #0f2a44; /* Sidebar Blue */
    color: white;
}

/* The Number in the middle */
.qty-value {
    min-width: 20px;
    text-align: center;
    font-weight: 600;
    font-size: 0.9rem;
    color: #0f2a44;
}

/* =========================================
   ACTION COLUMN (Delete Button)
   ========================================= */
.action-cell {
    text-align: center;
    width: 60px;
}

/* Delete Button Styling */
.btn-delete {
    background: #fef2f2; /* Light Red bg */
    color: #ef4444;      /* Red icon */
    border: 1px solid #fecaca;
    border-radius: 6px;
    width: 32px;
    height: 32px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
}

.btn-delete:hover {
    background: #ef4444;
    color: white;
    border-color: #ef4444;
    transform: scale(1.05);
    box-shadow: 0 2px 4px rgba(239, 68, 68, 0.2);
}

/* =========================================
   EMPTY CART STATE
   ========================================= */
.cart-empty {
    margin-top: 20px;
    padding: 40px;
    text-align: center;
    
    background-color: #f8fafc;
    border: 2px dashed #cbd5e1; /* Dashed Border */
    border-radius: 12px;
    
    color: #64748b;
    font-weight: 500;
    font-size: 0.95rem;
}



/* =========================================
   MOBILE CART: FIX WIDTH & CONTAINER (FINAL)
   ========================================= */

@media (max-width: 768px) {

    /* 1. FIX THE PARENT CONTAINER (The Culprit)
       - The original .cart-area has 'display: flex' and 'align-items: center'.
       - This forces the child (the table) to shrink-wrap.
       - We change it to 'block' so the table can grow to 100% width. */
    .cart-area {
        display: block !important; /* Disables flex centering */
        padding: 10px !important;
        width: 100% !important;
        height: auto !important;
        min-height: auto !important; /* Allow it to grow with content */
    }

    /* 2. FORCE TABLE TO BE FULL WIDTH 
       - width: 100% ensures it fills the .cart-area
       - table-layout: fixed ensures stable sizing */
    .cart-table {
        display: block !important;
        width: 100% !important;
        min-width: 100% !important;
    }

    /* 3. ENSURE THE BODY IS A BLOCK */
    .cart-table tbody {
        display: block !important;
        width: 100% !important;
    }

    /* 4. THE CARD (ROW) - FULL WIDTH */
    .cart-table tbody tr {
        display: grid !important; 
        width: 100% !important;
        box-sizing: border-box !important; /* Prevents padding from breaking width */
        
        grid-template-columns: 1fr 1fr; /* 2 Columns */
        gap: 4px 12px;
        
        background: #ffffff;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 10px 12px;
        margin-bottom: 8px;
        position: relative;
    }

    /* 5. RESET CELLS */
    .cart-table td {
        display: block !important;
        border: none !important;
        padding: 0;
        width: auto !important;
        font-size: 0.85rem;
        color: #334155;
    }

    /* --- ITEM 1: MEDICINE NAME --- */
    .cart-table td:first-child {
        grid-column: 1 / -1; 
        font-size: 0.95rem;
        font-weight: 700;
        color: #0f2a44;
        margin-bottom: 4px; 
        padding-bottom: 6px; 
        padding-right: 30px; 
        border-bottom: 1px dashed #f1f5f9 !important; 
    }

    /* --- ITEM 2: DELETE BUTTON --- */
    .cart-table td:last-child {
        position: absolute;
        top: 8px;
        right: 8px;
        width: auto !important;
    }
    .btn-delete {
        width: 26px;
        height: 26px;
        font-size: 0.75rem;
    }

    /* --- ITEM 3: DATA GRID --- */
    .cart-table td:nth-child(2),
    .cart-table td:nth-child(3),
    .cart-table td:nth-child(4),
    .cart-table td:nth-child(5) 
    {
        display: flex !important;
        flex-direction: column;
        line-height: 1.2;
    }

    .cart-table td::before {
        font-size: 0.65rem;
        font-weight: 700;
        color: #94a3b8;
        margin-bottom: 1px;
    }

    .cart-table td:nth-child(2)::before { content: "BATCH"; }
    .cart-table td:nth-child(3)::before { content: "EXPIRY"; }
    .cart-table td:nth-child(4)::before { content: "MRP"; }
    .cart-table td:nth-child(5)::before { content: "GST%"; }

    /* --- ITEM 4: FOOTER --- */
    .cart-table td:nth-child(6) {
        grid-column: 1;
        margin-top: 4px;
        padding-top: 6px;
        border-top: 1px solid #f1f5f9 !important;
    }

    .cart-table td:nth-last-child(2) {
        grid-column: 2;
        margin-top: 4px;
        padding-top: 6px;
        border-top: 1px solid #f1f5f9 !important;
        
        text-align: right;
        display: flex !important;
        align-items: center;
        justify-content: flex-end;
        gap: 6px;
    }

    .cart-table td:nth-last-child(2)::before {
        content: "TOTAL:";
        font-size: 0.7rem;
        font-weight: 700;
        color: #94a3b8;
    }

    .cart-table td:nth-last-child(2) {
        font-size: 1rem;
        font-weight: 800;
        color: #059669; 
    }

    .qty-group { 
        transform: scale(0.85); 
        transform-origin: left center;
        margin: 0;
    }
}
/* =========================================
   MOBILE FIX: HIDE TABLE HEADERS
   ========================================= */

@media (max-width: 768px) {
    
    /* 1. Target the Table Head specifically */
    .cart-table thead {
        display: none !important;
        height: 0 !important;
        width: 0 !important;
        overflow: hidden !important;
    }

    /* 2. Safety net: Hide any "th" elements just in case */
    .cart-table th {
        display: none !important;
        border: none !important;
        padding: 0 !important;
    }
}